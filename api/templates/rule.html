{% extends 'base.html' %}

{% block content %}
<style>
  #pdf-container {
    width: 100%;
    height: 500px;
    /* Adjust the height as needed */
    overflow: auto;
  }
</style>

<div class="bg-body-tertiary">
  <div class="container py-5">
    <h1 class="display-4">游戏规则</h1>
    <div class="row h-100 align-items-center py-5">
      <p class="text-muted lead">https://docs.google.com/document/d/1nsbWFDwBoQwyLgNq3ujmwrF-_xWQkmPoPpfZEk3mF_s/edit
      </p>

      <div id="pdf-container">
        <canvas id="pdf-canvas"></canvas>
      </div>
    </div>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.min.js"></script>
<script>
  const pdfContainer = document.getElementById('pdf-container');

let pdfDoc = null;
const scale = 1.5;

function renderPage(num) {
    pdfDoc.getPage(num).then(page => {
        const viewport = page.getViewport({ scale });
        const canvas = document.createElement('canvas');
        const context = canvas.getContext('2d');
        canvas.width = viewport.width;
        canvas.height = viewport.height;

        pdfContainer.innerHTML = ''; // Clear previous content
        pdfContainer.appendChild(canvas);

        const renderContext = {
            canvasContext: context,
            viewport: viewport
        };

        page.render(renderContext);
    });
}

pdfjsLib.getDocument('path/to/your/pdf.pdf').promise.then(pdf => {
    pdfDoc = pdf;

    for (let pageNum = 1; pageNum <= pdfDoc.numPages; pageNum++) {
        renderPage(pageNum);
    }
});

</script>
{% endblock %}