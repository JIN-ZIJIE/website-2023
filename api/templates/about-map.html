{% extends 'base.html' %} {% block content %}

<link
  rel="stylesheet"
  href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
  integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI="
  crossorigin=""
/>
<!-- Make sure you put this AFTER Leaflet's CSS -->
<script
  src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
  integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM="
  crossorigin=""
></script>
<style>
  #map {
    height: 90vh;
  }

  /* @media only screen and (max-width: 767px) {
      body {
        padding: 0;
        margin: 0;
    }
      html, body, #map {
        height: 100%;
        width: 100vw;
    }
  } */
</style>
<div id="map"></div>
<script>
  var map = L.map("map").setView([35.8617, 104.1954], 5); // set the initial view to China during Tang Dynasty

  map.options.minZoom = 5;
  map.options.maxZoom = 10;

  L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png", {
    maxZoom: 18,
    attribution:
      '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',
  }).addTo(map);

  // Add markers to represent key locations along the Silk Road during Tang Dynasty
  var markers = [
    {
      lat: 34.3416,
      lng: 108.9398,
      name: "长安/西安",
      desc: "唐朝首都；丝绸之路的东方起点",
      url: "https://sites.google.com/student.hci.edu.sg/map/%E8%A5%BF%E5%AE%89%E9%95%BF%E5%AE%89",
      linkText: "了解更多",
    },
    {
      lat: 36.0338,
      lng: 103.4936,
      name: "兰州",
      desc: "",
      url: "https://sites.google.com/student.hci.edu.sg/map/%E5%85%B0%E5%B7%9E",
      linkText: "了解更多",
    },
    {
      lat: 37.9342,
      lng: 102.638,
      name: "武威",
      desc: "",
      url: "https://sites.google.com/student.hci.edu.sg/map/%E6%AD%A6%E5%A8%81",
      linkText: "了解更多",
    },
    {
      lat: 39.5,
      lng: 97.34,
      name: "瓜州（安西）",
      desc: "",
      url: "https://sites.google.com/student.hci.edu.sg/map/%E7%93%9C%E5%B7%9E%E5%AE%89%E8%A5%BF",
      linkText: "了解更多",
    },
    {
      lat: 40.1421,
      lng: 94.662,
      name: "敦煌",
      desc: "重要的丝绸和茶叶贸易中心",
      url: "https://sites.google.com/student.hci.edu.sg/map/%E6%95%A6%E7%85%8C",
      linkText: "了解更多",
    },
    {
      lat: 40.3139,
      lng: 89.5026,
      name: "楼兰",
      desc: "古代丝绸之路的重镇",
      url: "https://sites.google.com/student.hci.edu.sg/map/%E6%A5%BC%E5%85%B0",
      linkText: "了解更多",
    },
    {
      lat: 39.1403,
      lng: 88.5622,
      name: "米兰",
      desc: "",
      url: "https://sites.google.com/student.hci.edu.sg/map/%E7%B1%B3%E5%85%B0",
      linkText: "了解更多",
    },
    {
      lat: 38.0241,
      lng: 82.7376,
      name: "尼雅",
      desc: "",
      url: "https://sites.google.com/student.hci.edu.sg/map/%E5%B0%BC%E9%9B%85",
      linkText: "了解更多",
    },
    {
      lat: 37.06,
      lng: 80.01,
      name: "和田",
      desc: "",
      url: "https://sites.google.com/student.hci.edu.sg/map/%E5%92%8C%E7%94%B0",
      linkText: "了解更多",
    },
    {
      lat: 38.2327,
      lng: 77.1324,
      name: "莎车县",
      desc: "",
      url: "https://sites.google.com/student.hci.edu.sg/map/%E8%8E%8E%E8%BD%A6%E5%8E%BF",
      linkText: "了解更多",
    },
    {
      lat: 42.4909,
      lng: 93.3054,
      name: "哈密市",
      desc: "",
      url: "https://sites.google.com/student.hci.edu.sg/map/%E5%93%88%E5%AF%86%E5%B8%82",
      linkText: "了解更多",
    },
    {
      lat: 42.9429,
      lng: 89.1899,
      name: "吐鲁番",
      desc: "重要商业中心，负责连接东方和中亚地区的贸易",
      url: "https://sites.google.com/student.hci.edu.sg/map/%E5%90%90%E9%B2%81%E7%95%AA",
      linkText: "了解更多",
    },
    {
      lat: 41.6499,
      lng: 83.8999,
      name: "龟兹",
      desc: "",
      url: "https://sites.google.com/student.hci.edu.sg/map/%E9%BE%9F%E5%85%B9",
      linkText: "了解更多",
    },
    {
      lat: 41.1106,
      lng: 80.1725,
      name: "阿克苏市",
      desc: "",
      url: "https://sites.google.com/student.hci.edu.sg/map/%E9%98%BF%E5%85%8B%E8%8B%8F%E5%B8%82",
      linkText: "了解更多",
    },
    {
      lat: 39.4677,
      lng: 75.9898,
      name: "喀什",
      desc: "中亚商路上的重要城市",
      url: "https://sites.google.com/student.hci.edu.sg/map/%E5%96%80%E4%BB%80",
      linkText: "了解更多",
    },
    {
      lat: 37.4622,
      lng: 75.1328,
      name: "塔什库尔干镇",
      desc: "",
      url: "https://sites.google.com/student.hci.edu.sg/map/%E5%A1%94%E4%BB%80%E5%BA%93%E5%B0%94%E5%B9%B2%E9%95%87",
      linkText: "了解更多",
    },
    {
      lat: 43.5429,
      lng: 81.164,
      name: "伊宁",
      desc: "",
      url: "https://sites.google.com/student.hci.edu.sg/map/%E4%BC%8A%E5%AE%81",
      linkText: "了解更多",
    },
    {
      lat: 41.184,
      lng: 69.1647,
      name: "塔什干",
      desc: "",
      url: "https://sites.google.com/student.hci.edu.sg/map/%E5%A1%94%E4%BB%80%E5%B9%B2",
      linkText: "了解更多",
    },
    {
      lat: 40.3143,
      lng: 70.5633,
      name: "浩罕",
      desc: "",
      url: "https://sites.google.com/student.hci.edu.sg/map/%E6%B5%A9%E7%BD%95",
      linkText: "了解更多",
    },
    {
      lat: 36.2048,
      lng: 59.6349,
      name: "撒马尔罕",
      desc: "在波斯湾和中亚地区的商业中",
      url: "https://sites.google.com/student.hci.edu.sg/map/%E6%92%92%E9%A9%AC%E5%B0%94%E7%BD%95",
      linkText: "了解更多",
    },
    {
      lat: 37.2416,
      lng: 62.1723,
      name: "玛吉亚娜",
      desc: "",
      url: "",
      linkText: "了解更多",
    },
    {
      lat: 41.0082,
      lng: 28.9784,
      name: "伊斯坦布尔",
      desc: "",
      url: "",
      linkText: "了解更多",
    },
    {
      lat: 35.6533,
      lng: 51.3833,
      name: "雷伊",
      desc: "",
      url: "",
      linkText: "了解更多",
    },
    {
      lat: 34.7989,
      lng: 48.5146,
      name: "以克巴坦那",
      desc: "",
      url: "",
      linkText: "了解更多",
    },
    {
      lat: 33.0811,
      lng: 44.5795,
      name: "克特西丰",
      desc: "",
      url: "",
      linkText: "了解更多",
    },
    {
      lat: 32.6546,
      lng: 51.6679,
      name: "伊斯法罕",
      desc: "",
      url: "",
      linkText: "了解更多",
    },
    {
      lat: 29.9358,
      lng: 52.8919,
      name: "波斯波利斯",
      desc: "",
      url: "",
      linkText: "了解更多",
    },
    {
      lat: 32.1969,
      lng: 48.2447,
      name: "苏萨",
      desc: "",
      url: "",
      linkText: "了解更多",
    },
    {
      lat: 32.5381,
      lng: 44.4279,
      name: "巴比伦",
      desc: "",
      url: "",
      linkText: "了解更多",
    },
    {
      lat: 30.5019,
      lng: 47.8192,
      name: "卡拉克斯",
      desc: "",
      url: "",
      linkText: "了解更多",
    },
    {
      lat: 36.097,
      lng: 43.3281,
      name: "尼姆鲁德",
      desc: "",
      url: "",
      linkText: "了解更多",
    },
    {
      lat: 36.2021,
      lng: 37.1343,
      name: "阿勒颇",
      desc: "",
      url: "",
      linkText: "了解更多",
    },
    {
      lat: 41.0082,
      lng: 28.9784,
      name: "君士坦丁堡（伊斯坦布尔）",
      desc: "拜占庭帝国的都城；连接欧洲和亚洲的重要城市",
      url: "https://pw-silkroad.vercel.app/about/coming-soon",
      linkText: "了解更多",
    },
  ];

  // Add markers to the map
  for (let i = 0; i < markers.length; i++) {
    const marker = markers[i];
    const link =
      '<a href="' +
      marker.url +
      '" target="_blank">' +
      marker.linkText +
      "</a>"; // add target attribute to link
    const popupContent =
      "<b>" + marker.name + "</b><br>" + marker.desc + "<br>" + link; // add link to popup content
    L.marker([marker.lat, marker.lng]).bindPopup(popupContent).addTo(map);
  }

  // Define an array of coordinates for the polyline
  let path1 = [
    { lat: 34.3416, lng: 108.9398 },
    { lat: 36.0338, lng: 103.4936 },
    { lat: 37.9342, lng: 102.638 },
    { lat: 39.5, lng: 97.34 },
    { lat: 40.1421, lng: 94.662 },
    { lat: 40.3139, lng: 89.5026 },
    { lat: 39.1403, lng: 88.5622 },
    { lat: 38.0241, lng: 82.7376 },
    { lat: 37.06, lng: 80.01 },
    { lat: 38.2327, lng: 77.1324 },
    { lat: 37.4622, lng: 75.1328 },
    { lat: 40.3143, lng: 70.5633 },
  ];

  // Define options for the polyline
  let path1Options = {
    color: "red",
    weight: 3,
    opacity: 0.7,
  };

  // Add the polyline to the map
  let polyline1 = L.polyline(path1, path1Options).addTo(map);

  let path1a = [
    { lat: 38.2327, lng: 77.1324 },
    { lat: 39.4677, lng: 75.9898 },
  ];

  let polyline1a = L.polyline(path1a, path1Options).addTo(map);

  let path1b = [
    { lat: 37.4622, lng: 75.1328 },
    { lat: 36.2048, lng: 59.6349 },
    { lat: 35.6533, lng: 51.3833 },
    { lat: 34.7989, lng: 48.5146 },
    { lat: 33.0811, lng: 44.5795 },
    { lat: 32.5381, lng: 44.4279 },
    { lat: 36.097, lng: 43.3281 },
    { lat: 36.2021, lng: 37.1343 },
    { lat: 41.0082, lng: 28.9784 },
  ];

  let polyline1b = L.polyline(path1b, path1Options).addTo(map);

  let path1c = [
    { lat: 34.7989, lng: 48.5146 },
    { lat: 32.6546, lng: 51.6679 },
    { lat: 29.9358, lng: 52.8919 },
    { lat: 32.1969, lng: 48.2447 },
    { lat: 32.5381, lng: 44.4279 },
  ];

  let path1cOptions = {
    color: "blue",
    weight: 3,
    opacity: 0.7,
  };

  let path1d = [
    { lat: 32.1969, lng: 48.2447 },
    { lat: 30.5019, lng: 47.8192 },
  ];

  let polyline1c = L.polyline(path1c, path1cOptions).addTo(map);

  let polyline1d = L.polyline(path1d, path1cOptions).addTo(map);

  let path2 = [
    { lat: 39.5, lng: 97.34 },
    { lat: 42.4909, lng: 93.3054 },
    { lat: 42.9249, lng: 89.1899 },
    { lat: 41.6499, lng: 83.8999 },
    { lat: 41.1106, lng: 80.1725 },
    { lat: 38.2327, lng: 77.1324 },
  ];

  let path2Options = {
    color: "blue",
    weight: 3,
    opacity: 0.7,
  };

  let polyline2 = L.polyline(path2, path2Options).addTo(map);

  let path2a = [
    { lat: 41.1106, lng: 80.1725 },
    { lat: 39.4677, lng: 75.9898 },
  ];

  let polyline2a = L.polyline(path2a, path2Options).addTo(map);

  let path3 = [
    { lat: 42.9249, lng: 89.1899 },
    { lat: 43.5429, lng: 81.164 },
    { lat: 41.184, lng: 69.1647 },
    { lat: 40.3143, lng: 70.5633 },
    { lat: 37.2416, lng: 62.1723 },
    { lat: 36.2048, lng: 59.6349 },
  ];

  let path3Options = {
    color: "green",
    weight: 3,
    opacity: 0.7,
  };

  let polyline3 = L.polyline(path3, path3Options).addTo(map);

  let path3a = [
    { lat: 40.3143, lng: 70.5633 },
    { lat: 39.4677, lng: 75.9898 },
  ];

  let polyline3a = L.polyline(path3a, path3Options).addTo(map);
</script>

{% endblock %}
